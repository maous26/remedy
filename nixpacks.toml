# Nixpacks configuration for Railway

[phases.setup]
nixPkgs = ["nodejs-18_x"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
# Clear node_modules cache and .next before fresh build
cmds = ["rm -rf node_modules/.cache .next 2>/dev/null || true", "npm run build"]
dependsOn = ["install"]

[start]
cmd = "npm run start"
